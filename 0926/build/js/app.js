/*! special2016-data v 0.0.2  | (c) Tue Sep 27 2016 14:08:11 GMT+0800 (中国标准时间)  Julian  | https://nnn.li  全民爆料 */
function isNumMsg(a){var t=a||"内容不可以是数字哦";PL.msg(t,{time:5e3,icon:6})}function getDataSP(a){return!isNaN(a)&&(loadingSwif(),offsetTopList(),void PD.ajax({type:"GET",url:"/src/data/data.json",dataType:"json",success:function(t){setTimeout(function(){postList(t.data);var i={count:441,on:a,pageNum:8};spPaging.init(i)},1e3)},error:function(a,t){console.log(a)}}))}function floorNnav(){var a=PD(window).width(),t=PD(".sp-content-w").offset().left,i=PD(".floor-nav-wrap").width();if(a>=1444){var n=t-i-15;PD(".floor-nav-wrap").css("left",n)}else PD(".floor-nav-wrap").css({left:"10px",right:""})}function postList(a){loadingSwif(!1);for(var t=a.length,i="",n="",s="",o="",r=0;r<t;r++){var e=r%4;0==e?i+=listHtmlReader(a[r]):1==e?n+=listHtmlReader(a[r]):2==e?s+=listHtmlReader(a[r]):3==e&&(o+=listHtmlReader(a[r]))}PD("#sp-list-1").html(i),PD("#sp-list-2").html(n),PD("#sp-list-3").html(s),PD("#sp-list-4").html(o)}function listHtmlReader(a){var t=a.thumb?encodeURI(a.thumb):"./build/imgs/thumb-no.png",i=a.title,n=a.userName,s=a.desction,o=encodeURI(a.shopUrl),r="http://www.panli.com/Crawler.aspx?purl="+encodeURIComponent(o),e='<div class="sp-list-grid"><div class="thumb"><a  rel="nofollow" href="'+o+'" target="_blank"><img src="'+t+'" alt=""></a></div><div class="sp-pro-content"><a  rel="nofollow" href="'+o+'" class="pro-title" title="'+i+'" >'+i+'</a><div class="pro-line"></div><div class="pro-user-name">爆料人：'+n+'</div><div class="pro-desction"><p>'+s+'</p></div><div class="pro-go-btn"><a href="'+r+'" target="_blank">我要代购</a></div></div></div>';return e}function loadingSwif(a){0==a?(PD(".data-loading").hide(),PD("#sp-list-u").fadeIn("600")):(PD("#sp-list-u").hide(),PD(".data-loading").show())}function offsetTopList(){if(spPaging.start>1){var a=PD(".sp-content-purple").offset().top;PD("body,html").animate({scrollTop:a-80},800)}return!1}function isNumber(a){var t=new RegExp("^[1-9]*$");return!!t.test(a)&&a}PD(function(){floorNnav(),PD(window).resize(function(){floorNnav()}),PD(window).scroll(function(){var a=PD(window).scrollTop();PD(".floor-nav-wrap")[a>400?"show":"hide"]()}),PD(".sp-go-baoliao").on("click",function(){var a=PD(".sp-content-pink").offset().top;return PD("body,html").animate({scrollTop:a-110},300),!1}),PD("#sp-paging").on("click",".paging-a",function(){var a=PD(this),t=a.attr("data-id");getDataSP(t)}),PD("#sp-paging").on("click",".paging-go",function(){var a=PD(".paging-input"),t=PD.trim(a.val()),i=a.attr("data-max")-0;return!isNumber(t)||t>i?(a.val(""),!1):(getDataSP(t),void offsetTopList())})});var spPaging={count:1,on:1,start:1,pageNum:8,maxNum:1,init:function(a){var t=this;a&&(a.count?t.count=a.count:"",a.on?t.on=a.on:"",a.pageNum?t.pageNum=a.pageNum:""),t.reader()},reader:function(){var a=this,t=Math.ceil(a.count/a.pageNum),i=Number(a.on),n=i+1,s=i-1;a.maxNum=t,a.start=a.start+1;var o="";if(t<2)return!1;i>1&&(o+='<a href="javascript:void(0);" data-id="'+s+'" class="paging-a" >上一页</a>'),1!=i&&i>=4&&4!=t&&(o+='<a href="javascript:void(0);" data-id="1"  class="paging-a">1</a>'),i-2>2&&i<=t&&t>5&&(o+="<span>...</span>");var r=i-2,e=i+2;for((r>1&&i<4||1==i)&&e++,i>t-4&&i>=t&&r--;r<=e;r++)r<=t&&r>=1&&(o+=r!=i?'<a href="javascript:void(0);" data-id="'+r+'"  class="paging-a">'+r+"</a>":'<a href="javascript:void(0);" data-id="'+r+'" class="paging-on">'+r+"</a>");i+2<t-1&&i>=1&&t>5&&(o+="<span>...</span>"),i!=t&&i<t-2&&4!=t&&(o+='<a href="javascript:void(0);" data-id="'+t+'" class="paging-a">'+t+"</a>"),i<t&&(o+='<a href="javascript:void(0);" data-id="'+n+'" class="paging-a">下一页</a>');var l='<span class="paging-txt">到第</span><input type="text" class="paging-input" data-max="'+t+'" ><span class="paging-txt">页</span><a href="javascript:void(0);" class="paging-go">GO</a>';PD("#sp-paging").html(o+l)}};